{"version":3,"sources":["app/movie/Movie.module.css","app/movie/Movie.tsx","api/api.ts","store/movies-reducer.ts","app/main/Main.tsx","assets/github-logo.png","App.tsx","reportWebVitals.ts","store/store.ts","index.tsx","app/main/Main.module.css"],"names":["module","exports","Movie","title","posterPath","overview","score","toolTip","length","slice","className","s","movieContainer","toUpperCase","poster","tooltipText","src","alt","moviesAPI","axios","get","params","api_key","language","page","then","res","data","initState","movies","sortDirection","searchText","setSorting","type","Main","dispatch","useDispatch","useSelector","state","main","useState","searchInput","setSearchInput","moviesToDisplay","sort","a","b","vote_average","filter","m","toLowerCase","search","useEffect","moviesData","header","sortArea","onClick","disabled","onChange","e","currentTarget","value","setSearchText","moviesContainer","map","poster_path","id","footer","href","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6cc2e825.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieContainer\":\"Movie_movieContainer__3V0a-\",\"tooltipText\":\"Movie_tooltipText__1lrRR\",\"poster\":\"Movie_poster__1CuZ1\",\"title\":\"Movie_title__3KEjo\",\"score\":\"Movie_score__3tTJ2\"};","import React from \"react\";\r\nimport s from './Movie.module.css'\r\n\r\nexport const Movie = ({title, posterPath, overview, score}: MoviePropsType) => {\r\n\r\n    const toolTip:string = overview.length < 140 ? overview : overview.slice(0,139) + '...'\r\n\r\n    return(\r\n        <div className={s.movieContainer}>\r\n            <div className={s.title}>\r\n                <b>{title.toUpperCase()}</b>\r\n            </div>\r\n            <div className={s.poster}>\r\n                <span className={s.tooltipText}>{toolTip}</span>\r\n                <img src={`https://image.tmdb.org/t/p/w500${posterPath}`} alt='poster'/>\r\n                <div className={s.score}>\r\n                    {score}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n//types\r\ntype MoviePropsType = {\r\n    title: string\r\n    posterPath: string\r\n    overview: string\r\n    score: number\r\n}","import axios from 'axios'\r\nimport {MovieResponseType} from \"../store/movies-reducer\";\r\n\r\nexport const moviesAPI = {\r\n    getMovies() {\r\n        return axios.get<MoviesResponseType>(`https://api.themoviedb.org/3/discover/movie?with_genres=35`, {\r\n            params: {\r\n                api_key: '30681930d9f8a4d49ec75249be9647a1',\r\n                language: 'en_US',\r\n                page: 1,\r\n            }\r\n        })\r\n            .then(res => res.data['results'])\r\n    }\r\n}\r\n\r\n//types\r\ntype MoviesResponseType = {\r\n    'page': number\r\n    'results': MovieResponseType[]\r\n}\r\n","import {moviesAPI} from \"../api/api\";\r\nimport {AppThunk} from \"./store\";\r\n\r\n\r\nconst initState: InitStateType = {\r\n    movies: [],\r\n    sortDirection: 'idle',\r\n    searchText: '',\r\n}\r\n\r\nexport const moviesReducer = (state = initState, action: ActionType) => {\r\n    switch (action.type) {\r\n        case 'MAIN/SET-MOVIES':\r\n            return {...state, movies: action.movies}\r\n        case 'MAIN/SET-SORTING':\r\n            return {...state, sortDirection: action.sortDirection}\r\n        case 'MAIN/SET-SEARCH-TEXT':\r\n            return {...state, searchText: action.searchText}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//action creators\r\nexport const setMovies = (movies: MovieResponseType[]) => ({type: 'MAIN/SET-MOVIES', movies}) as const\r\nexport const setSorting = (sortDirection: SortDirectionType) => ({type: 'MAIN/SET-SORTING', sortDirection}) as const\r\nexport const setSearchText = (searchText: string) => ({type: 'MAIN/SET-SEARCH-TEXT', searchText}) as const\r\n\r\n\r\n//thunk\r\nexport const fetchMovies = (): AppThunk => {\r\n    return async (dispatch) => {\r\n        const moviesData = await moviesAPI.getMovies()\r\n        dispatch(setMovies(moviesData))\r\n    }\r\n}\r\n\r\n//types\r\nexport type MovieResponseType = {\r\n    \"adult\": boolean\r\n    \"backdrop_path\": string\r\n    \"genre_ids\": number[]\r\n    \"id\": number\r\n    \"original_language\": string\r\n    \"original_title\": string\r\n    \"overview\": string\r\n    \"popularity\": number\r\n    \"poster_path\": string\r\n    \"release_date\": string\r\n    \"title\": string\r\n    \"video\": boolean\r\n    \"vote_average\": number\r\n    \"vote_count\": number\r\n}\r\nexport type InitStateType = {\r\n    movies: MovieResponseType[]\r\n    sortDirection: SortDirectionType\r\n    searchText: string\r\n}\r\nexport type SortDirectionType = 'idle' | 'down' | 'up'\r\nexport type ActionType = ReturnType<typeof setMovies>\r\n    | ReturnType<typeof setSorting>\r\n    | ReturnType<typeof setSearchText>\r\n","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\nimport {Movie} from \"../movie/Movie\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../store/store\";\r\nimport {fetchMovies, setSearchText, setSorting} from \"../../store/movies-reducer\";\r\nimport s from './Main.module.css'\r\nimport ghLogo from '../../assets/github-logo.png'\r\n\r\nexport const Main = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const {movies, sortDirection, searchText} = useSelector((state: RootState) => state.main)\r\n    const [searchInput, setSearchInput] = useState<string>('')\r\n\r\n    const sortUp = () => {\r\n        dispatch(setSorting('up'))\r\n    }\r\n    const sortDown = () => {\r\n        dispatch(setSorting('down'))\r\n    }\r\n    const onInputChange = (e: ChangeEvent<HTMLInputElement>) =>\r\n        setSearchInput(e.currentTarget.value)\r\n    const onSearch = () => {\r\n        dispatch(setSearchText(searchInput))\r\n        setSearchInput('')\r\n    }\r\n\r\n    let moviesToDisplay = movies\r\n    if (sortDirection === 'down') {\r\n        moviesToDisplay = movies.sort((a, b) => b.vote_average - a.vote_average)\r\n    }\r\n    if (sortDirection === 'up') {\r\n        moviesToDisplay = movies.sort((a, b) => a.vote_average - b.vote_average)\r\n    }\r\n    moviesToDisplay = moviesToDisplay.filter(m => m.title.toLowerCase().search(searchText.toLowerCase()) >= 0)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchMovies())\r\n    }, [dispatch, movies])\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.header}>TOP-COMEDIES</div>\r\n            <div className={s.sortArea}>\r\n                <div>Sort by rating:\r\n                    <button onClick={sortUp} disabled={sortDirection === 'up'}>low to high</button>\r\n                    <button onClick={sortDown} disabled={sortDirection === 'down'}>high to low</button>\r\n                </div>\r\n                <div>\r\n                    <input onChange={onInputChange} value={searchInput}/>\r\n                    <button onClick={onSearch}>search</button>\r\n                </div>\r\n            </div>\r\n            <div className={s.moviesContainer}>\r\n                {moviesToDisplay.map(m => <Movie\r\n                    key={m.id}\r\n                    title={m.title}\r\n                    posterPath={m.poster_path}\r\n                    overview={m.overview}\r\n                    score={m.vote_average}/>\r\n                )}\r\n            </div>\r\n            <div className={s.footer}>\r\n                <a href='https://github.com/aleksandrasezer'>\r\n                    <img src={ghLogo} alt='gh-logo'/>\r\n                    Aleksandra Sezer</a>\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAABAwAAAQMB4GlWSgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAKYSURBVFiFtZdNaxNRFIafM9pQFFdK1UXQ1DRNuyz9A6mFQndFGhAUupN+/IralW66UIQuhSyqG8Gtn6C4EioVsX5EcdWFK2PbFJMeF/cOHce5M5NkeuBwmXvPed/3Zu49cyKqSloTkePAIHARKNgR4DvwzY51VW2lBlXVRAfywAqwDWiCb9vYfCrsBOIy8AhopSAOe8vmlrsSAFSBRhfEYW8A1dQCgD5gNQPisK8CfWkE1I6A3PdarABg/gjJfZ+PFACMA81Q8E17EK8BbzsgeQdcB0rAcmitCYz7vKKqiMgx4CNQ5F+bVNWn/oOIVIEKUA84mNrg+wtVXQ/kXAaehHC/YG5H29/9jGMnpTR3OeEqlxzYM6qKZxUtEW0jjvlOzIWxBOCJyCgw4Qj6lYGAhmN+QkRGPWDWEVBT1ee9sqvqM+CBY3nWwxycKFvulTxgK475QQ/zVQvbLuakZmUfMNcvbAWPw09q0L6q6kFW7KraBj67BJyJWDibFXkC5mkP00iEbUBETmXFbLEGIpbqHrDlyCtnJSAGaytOwGKGAlxYnwDmcHc0QxmU4iHcHdUcwDDQdgT8AMZ6IB+zGFHYbWA4qgl5BbwOPO8Ct4BCB8SXgNs2N7Y58ROKwB+78Bg4gSnRwZ+ujSko9wEvglSAezbmIIZYLVcx3JCsBQJeAp7jfNyN2fliArHva1EdUR7YCQTdsPMLmLL8G3gDXIgRMJKCfIfAf4YwwCSwZwN/Auc7PHQnE8j3MF1WbFc8xWFv+B64CpwDcnaUGAH9MeRNYOq/HAfQNLDvAOrvQsA+MB2ZEwNWATYyELABVJw5Ce9UgCvAZgAwFxOfC8Rt2lznK1O1bXmSiYhg6sKAqt5JiF3AHOCHmgL8L5EXS+d81uVOAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport './App.css';\r\nimport {Main} from \"./app/main/Main\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Main />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {ActionType, moviesReducer} from \"./movies-reducer\";\r\nimport {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk, {ThunkAction} from \"redux-thunk\"\r\n\r\nlet rootReducer = combineReducers({\r\n    main: moviesReducer,\r\n})\r\n\r\nexport let store = createStore(rootReducer, applyMiddleware(thunk))\r\n\r\n\r\n//types\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n    ReturnType,\r\n    RootState,\r\n    unknown,\r\n    ActionType\r\n    >\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./store/store\";\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Main_header__2yrXS\",\"sortArea\":\"Main_sortArea__21kHK\",\"moviesContainer\":\"Main_moviesContainer__29jMS\",\"footer\":\"Main_footer__2QA2P\"};"],"sourceRoot":""}